1
00:00:00,000 --> 00:00:02,820
이번 시간에 공부할 내용은

2
00:00:02,820 --> 00:00:08,060
수학적인 그래픽스 이론 중에 벡터와 기하에 관한 내용입니다.

3
00:00:08,060 --> 00:00:11,060
많은 것들이 매우 기초적인 것들로서,

4
00:00:11,060 --> 00:00:15,690
이 내용들은 여러분들이 이미 다 알고 있는 내용일 수 있습니다.

5
00:00:15,690 --> 00:00:21,320
그렇다 하더라도, 복습하는 의미에서 다시 한번 보도록 하죠.

6
00:00:21,320 --> 00:00:23,980
오른손 좌표계는 일반적으로

7
00:00:23,980 --> 00:00:28,030
수학 수업 시간에 우리가 사용하는 좌표계입니다.

8
00:00:28,030 --> 00:00:31,090
우리가 이 과목에서 사용하게 될 OpenGL API에서도

9
00:00:31,090 --> 00:00:36,030
오른손 좌표계를 사용하고 있습니다.

10
00:00:36,030 --> 00:00:42,250
CG에서는 일반적으로 y 축을 머리위 방향으로 하고 있습니다.

11
00:00:42,250 --> 00:00:47,390
+z 축은 화면 바깥으로 나오는 방향입니다.

12
00:00:47,390 --> 00:00:52,740
주먹을 쥐었다가, 오른손의 엄지, 검지, 중지를

13
00:00:52,740 --> 00:00:55,300
서로 수직이 되도록 펴보면,

14
00:00:55,300 --> 00:01:02,390
그 순서대로 각각 오른손 좌표계의 x, y, z 축 방향을 가리킵니다.

15
00:01:02,390 --> 00:01:04,690
왼손 좌표계에서는 z축이

16
00:01:04,690 --> 00:01:07,900
화면 안쪽 방향을 가리키고 있습니다.

17
00:01:07,900 --> 00:01:11,670
CG에서는 viewing transformation 과정에 등장하는

18
00:01:11,670 --> 00:01:13,470
camera 좌표계에서

19
00:01:13,470 --> 00:01:16,470
이 왼손 좌표계를 사용합니다.

20
00:01:16,470 --> 00:01:20,160
여기에 대해서는 추후에 공부할 것입니다.

21
00:01:20,160 --> 00:01:23,840
World 좌표계는 우리가 그려낼 CG 장면안에서

22
00:01:23,840 --> 00:01:28,150
유일하게 존재하는 좌표계 입니다.

23
00:01:28,150 --> 00:01:31,450
모든 object들이 이 world 좌표계에 배치되어

24
00:01:31,450 --> 00:01:34,370
한 장면에 보여집니다.

25
00:01:34,370 --> 00:01:38,140
Local 좌표계는 주로 각 part 또는 object를

26
00:01:38,140 --> 00:01:43,580
모델링 (디자인) 할때 사용되는 좌표계 입니다.

27
00:01:43,580 --> 00:01:47,230
이렇게 기울어져 있는 물체를 모델링할 때에도

28
00:01:47,230 --> 00:01:54,180
보통 초기에는 똑바로 원점을 중심으로 똑바르게 모델링을 하게 됩니다.

29
00:01:54,180 --> 00:01:56,400
local 좌표계는 특히 인체와 같이

30
00:01:56,400 --> 00:02:00,130
관절들로 연결된 multi-linked body를

31
00:02:00,130 --> 00:02:03,740
애니메이션할 때 중요한 역할을 합니다.

32
00:02:03,740 --> 00:02:09,590
이 경우에 그림에서 빨강색 점의 local 좌표는 (3, 1) 이었는데,

33
00:02:09,590 --> 00:02:13,280
물체를 원점을 중심으로 회전한 후,

34
00:02:13,280 --> 00:02:19,260
translation하면 그 점의 world 좌표는 (4, 5)가 됩니다.

35
00:02:19,260 --> 00:02:22,180
나중에 우리는 local에서 world 좌표로의

36
00:02:22,180 --> 00:02:25,270
변환에 대해 공부할 것입니다.

37
00:02:25,270 --> 00:02:29,010
Vector는 방향과 크기(magnitude)를 가지고 있습니다.

38
00:02:29,010 --> 00:02:32,230
예를 들어 점 P1에서 P2로 가는 vector는

39
00:02:32,230 --> 00:02:35,680
P2 - P1으로 구할 수 있습니다.

40
00:02:35,680 --> 00:02:41,980
벡터는 방향과 크기는 있지만 고정된 위치(position)는 없습니다.

41
00:02:41,980 --> 00:02:47,820
따라서 그림에서의 이 세개의 벡터들은 모두 동일한 벡터입니다.

42
00:02:47,820 --> 00:02:52,400
반면에 스칼라는 하나의 컴포넌트 만으로 구성된 것으로

43
00:02:52,400 --> 00:02:55,420
방향(direction)이 없고 크기(magnitude)만 가지고 있습니다.

44
00:02:55,420 --> 00:03:02,560
예를 들면 3 과 235.5 는 스칼라 입니다.

45
00:03:02,560 --> 00:03:06,150
두 벡터 V와 W가 있다고 가정합시다.

46
00:03:06,150 --> 00:03:10,780
V와 W의 합과 차는 이렇게 계산하면 됩니다.

47
00:03:10,780 --> 00:03:14,620
두 벡터의 합은 새로운 벡터를 나타내는 데,

48
00:03:14,620 --> 00:03:18,820
이러한 두 가지 방법으로 그릴 수 있습니다.

49
00:03:18,820 --> 00:03:22,800
a - b 벡터는, a와 b의 tail을

50
00:03:22,800 --> 00:03:25,950
같은 점으로 일치시켰을 경우,

51
00:03:25,950 --> 00:03:31,620
b 벡터의 head에서 a벡터의 head로 가는 벡터입니다.

52
00:03:31,620 --> 00:03:39,070
a - b는 a + (-b)와 같으므로 이와 같이 그릴 수도 있습니다.

53
00:03:39,070 --> 00:03:46,880
이 두 벡터 a+(-b)와 a-b는 다른 위치에 있기는 하지만,

54
00:03:46,880 --> 00:03:49,230
방향과 크기가 같으므로,

55
00:03:49,230 --> 00:03:52,310
정확히 같은 벡터들 입니다.

56
00:03:52,310 --> 00:03:59,740
벡터의 magnitude (크기)는 length, size, norm과 같이 불리기도 하는데,

57
00:03:59,740 --> 00:04:02,280
꼬리에서 머리까지의 길이를 말하며,

58
00:04:02,280 --> 00:04:08,380
각 component들의 제곱의 합의 제곱근입니다.

59
00:04:08,380 --> 00:04:11,660
Normalization (정규화)란 벡터의 방향을 유지하면서

60
00:04:11,660 --> 00:04:15,590
크기를 1로 만드는 것을 말합니다.

61
00:04:15,590 --> 00:04:20,340
벡터의 각 component를 그 magnitude로 나누어주면

62
00:04:20,340 --> 00:04:22,480
normalize 할 수 있습니다.

63
00:04:22,480 --> 00:04:28,840
특히, magnitude가 1인 벡터를 unit vector라 부릅니다.

64
00:04:28,840 --> 00:04:33,590
두 벡터 V와 W의 dot product V.W는

65
00:04:33,590 --> 00:04:35,650
다음과 같이 정의됩니다.

66
00:04:35,650 --> 00:04:39,340
두 벡터의 각 콤포넌트의 곱의 합입니다.

67
00:04:39,340 --> 00:04:43,510
여기서 theta는 두 벡터가 이루고 있는 각을 말하는데,

68
00:04:43,510 --> 00:04:46,270
dot product의 값을 아는 경우,

69
00:04:46,270 --> 00:04:51,080
arccos 함수를 이용하여 theta를 구할 수 있겠습니다.

70
00:04:51,080 --> 00:04:54,050
dot product의 결과는 scalar 값으로서

71
00:04:54,050 --> 00:04:57,670
그래서, dot product는 scalar product,

72
00:04:57,670 --> 00:05:01,630
또는 inner product 라고도 불립니다.

73
00:05:01,630 --> 00:05:04,640
특히 자기 자신과의 dot product v.v 는

74
00:05:04,640 --> 00:05:08,300
그 vector의 크기의 제곱, ||v||^2 이 됩니다.

75
00:05:08,300 --> 00:05:12,890
어떤 벡터 v를 다른 벡터 u위로 프로젝션할 때,

76
00:05:12,890 --> 00:05:17,680
프로젝션 vector w를 구하는 과정을 보도록 하겠습니다.

77
00:05:17,680 --> 00:05:21,150
먼저 cosine의 정의에 의해 w의 크기는

78
00:05:21,150 --> 00:05:25,860
v의 크기 곱하기 cosine theta로 나타낼 수 있습니다.

79
00:05:25,860 --> 00:05:29,870
또한, u,v의 dot product의 정의에 의해

80
00:05:29,870 --> 00:05:35,780
w의 크기는 u.v 를 u의 크기로 나눈 것이 됩니다.

81
00:05:35,780 --> 00:05:38,780
따라서 u가 만약 unit vector라면

82
00:05:38,780 --> 00:05:42,460
w의 크기는 u.v가 될 것입니다.

83
00:05:42,460 --> 00:05:46,980
w의 방향은 u와 같고, 그 크기가 정해졌으니

84
00:05:46,980 --> 00:05:51,100
w는 이와 같이 구할 수 있습니다.

85
00:05:51,100 --> 00:05:55,310
이제 두 벡터 사이의 angle theta의 크기와

86
00:05:55,310 --> 00:05:58,900
dot product간의 관계를 보도록 하겠습니다.

87
00:05:58,900 --> 00:06:01,120
dot product값이 양수일 때에는

88
00:06:01,120 --> 00:06:03,710
cosine theta 값이 양수이므로

89
00:06:03,710 --> 00:06:07,260
theta의 크기는 0과 90도 사이일 것입니다.

90
00:06:07,260 --> 00:06:10,190
즉, theta는 예각입니다.

91
00:06:10,190 --> 00:06:12,280
dot product가 음수라는 것은

92
00:06:12,280 --> 00:06:15,040
cosine theta 값이 음수,

93
00:06:15,040 --> 00:06:21,410
즉, theta는 크기가 90도를 넘어서는 둔각일 것입니다.

94
00:06:21,410 --> 00:06:24,350
dot product가 정확히 0인 경우는

95
00:06:24,350 --> 00:06:29,600
두 vector가 수직, 즉, theta가 90도라는 뜻입니다.

96
00:06:29,600 --> 00:06:31,840
많은 graphics 연산에서

97
00:06:31,840 --> 00:06:37,210
이 관계가 아주 요긴하게 사용될 것입니다.

98
00:06:37,210 --> 00:06:39,580
여기에 하나의 다각형이 있습니다.

99
00:06:39,580 --> 00:06:44,670
이 다각형과 수직인 normal vector는 어떻게 구할 수 있을까요.

100
00:06:44,670 --> 00:06:48,760
normal vector N은 그 다각형 위의 두 벡터

101
00:06:48,760 --> 00:06:52,880
V1과 V2의 cross product로 구합니다.

102
00:06:52,880 --> 00:06:56,990
유의할 점은, V1, V2, N이

103
00:06:56,990 --> 00:07:01,700
right-handed 좌표계를 형성한다는 것입니다.

104
00:07:01,700 --> 00:07:04,390
만일 V2 cross V1을 계산한다면,

105
00:07:04,390 --> 00:07:09,710
그림의 N과는 반대 방향인 normal vector가 구해질 것입니다.

106
00:07:09,710 --> 00:07:14,440
그렇다면, V1 과 V2의 cross product는 어떻게 구할까요.

107
00:07:14,440 --> 00:07:18,570
Cross product는 이와 같이 determinant 로 계산합니다.

108
00:07:18,570 --> 00:07:24,730
3 x 3 determinant는 이렇게 2 x 2 determinant들을 이용하여 구합니다.

109
00:07:24,730 --> 00:07:31,570
여기서 i, j, k는 각각 x, y, z축 방향의 unit vector입니다.

110
00:07:31,570 --> 00:07:36,190
Cross product의 계산 결과는 scalar가 아니라 vector입니다.

111
00:07:36,190 --> 00:07:39,730
그래서 cross product는 vector product 또는

112
00:07:39,730 --> 00:07:43,210
outer product라고도 불립니다.

113
00:07:43,210 --> 00:07:46,850
Cross product vector의 크기는 이와 같은 공식으로 구할 수 있습니다.

114
00:07:46,850 --> 00:07:56,680
A x B = C 일때 C의 크기는 (A의 크기) x (B의 크기) x sin(theta) 입니다.

115
00:07:56,680 --> 00:08:00,780
여기서 theta는 A와 B vector 사이의 각입니다.

116
00:08:00,780 --> 00:08:07,620
때문에, A와 B가 unit vector 인 경우 C의 크기는 sin(theta)가 됩니다.

117
00:08:07,620 --> 00:08:10,140
Line (직선) 은 무한한 직선을 말합니다.

118
00:08:10,140 --> 00:08:13,670
시작과 끝점이 정해져 있지 않습니다.

119
00:08:13,670 --> 00:08:19,870
Line segment (직선분) 는 시작과 끝점이 분명히 주어지는 경우이며,

120
00:08:19,870 --> 00:08:21,970
유한한 길이를 가집니다.

121
00:08:21,970 --> 00:08:28,100
시작점만 주어지고 끝점이 없는 경우는 특별히 ray라고 부릅니다.

122
00:08:28,100 --> 00:08:32,180
2D line의 일반 implicit form 즉, 음함수꼴은

123
00:08:32,180 --> 00:08:38,920
f(x,y) = ax + by + c = 0 형태입니다.

124
00:08:38,920 --> 00:08:44,740
두 개의 점이 주어졌을 때의 two points form은 이와 같습니다.

125
00:08:44,740 --> 00:08:47,590
두 점 p1과 p2가 주어졌을 때,

126
00:08:47,590 --> 00:08:50,260
line의 two points parametric form은

127
00:08:50,260 --> 00:08:54,690
C(t) = (x(t), y(t)) 로 나타냅니다.

128
00:08:54,690 --> 00:08:57,260
여기서 t는 parameter 이며,

129
00:08:57,260 --> 00:09:04,390
infinite line 이므로 t의 범위도 마이너스 무한대로 부터 무한대 까지 입니다.

130
00:09:04,390 --> 00:09:10,270
x(t) 는 x1 + (x2 - x1)t 이고,

131
00:09:10,270 --> 00:09:20,960
이를 x1과 x2에 관해 정리하면 x1(1-t) + x2t 인데,

132
00:09:20,960 --> 00:09:24,610
parametric line C(t)의 x component의 식 입니다.

133
00:09:24,610 --> 00:09:30,270
마찬가지로 y(t)는 y component의 식 입니다.

134
00:09:30,270 --> 00:09:34,260
즉, C(t)는 x(t)와 y(t)가 모인

135
00:09:34,260 --> 00:09:37,190
vector form으로 볼 수 있습니다.

136
00:09:37,190 --> 00:09:42,930
t가 0일때 C(0)는 (x1, y1), 즉 p1이 됩니다.

137
00:09:42,930 --> 00:09:49,210
t가 1일때 C(1)은 (x2, y2), 즉 p2가 됩니다.

138
00:09:49,210 --> 00:09:54,730
다른 형태의 parametric form으로 point and vector form 이 있습니다.

139
00:09:54,730 --> 00:10:02,330
C(t) = p1 + vt인데, p1은 line위의 한 점이고

140
00:10:02,330 --> 00:10:06,090
v는 line의 direction vector 입니다.

141
00:10:06,090 --> 00:10:09,950
Two points form의 식을 t에 관해 정리하면

142
00:10:09,950 --> 00:10:12,510
points and vector form 이 됩니다.

143
00:10:12,510 --> 00:10:14,940
따라서, 다른 방법을 쓰더라도

144
00:10:14,940 --> 00:10:18,700
결국 같은 line을 나타내게 됩니다.

145
00:10:18,700 --> 00:10:21,740
Implicit 2D line f가 주어졌습니다.

146
00:10:21,740 --> 00:10:24,710
f의 x에 관한 편미분과,

147
00:10:24,710 --> 00:10:27,080
y에 관한 편미분을 계산하면,

148
00:10:27,080 --> 00:10:30,220
vector (a, b) 가 됩니다.

149
00:10:30,220 --> 00:10:38,000
이 vector는 line과 수직인 normal vector (법선 벡터) N 입니다.

150
00:10:38,000 --> 00:10:43,840
Tangent vector (접선 벡터) T = (-b, a)인데,

151
00:10:43,840 --> 00:10:47,390
normal vector와 수직인 vector 이고,

152
00:10:47,390 --> 00:10:50,180
line의 방향벡터와 같습니다.

153
00:10:50,180 --> 00:10:54,080
N의 y component b를 x로 가져오면서

154
00:10:54,080 --> 00:10:55,250
마이너스를 붙이고,

155
00:10:55,250 --> 00:11:00,490
a를 y component로 보내는 형태가 됩니다.

156
00:11:00,490 --> 00:11:03,520
Normal과 tangent vector가 수직인 것은,

157
00:11:03,520 --> 00:11:08,990
dot product를 해서 0이 되는 것으로 확인할 수 있습니다.

158
00:11:08,990 --> 00:11:12,680
Parametric form C(t)로 line을 나타내었습니다.

159
00:11:12,680 --> 00:11:16,780
Tangent vector T(t) 는 x(t)와 y(t)를

160
00:11:16,780 --> 00:11:20,640
각각 t에 대해 미분하여 구할 수 있습니다.

161
00:11:20,640 --> 00:11:24,680
Normal vector N(t)는 T(t)와 수직이므로,

162
00:11:24,680 --> 00:11:28,680
이전 경우와 같이 쉽게 구할 수 있습니다.

163
00:11:28,680 --> 00:11:32,180
시작과 끝점이 정의되는 line segment일 경우,

164
00:11:32,180 --> 00:11:35,140
implicit form은 사용하기가 쉽지 않습니다.

165
00:11:35,140 --> 00:11:38,150
Two points parametric form이 가장 적당한데요.

166
00:11:38,150 --> 00:11:42,500
C(t) = (x(t), y(t)) 의 parameter t의 범위는

167
00:11:42,500 --> 00:11:45,500
명확히 0부터 1 사이로 정의합니다.

168
00:11:45,500 --> 00:11:50,870
x(t)와 y(t)는 무한 line과 같은 형태로 나타낼 수 있습니다.

169
00:11:50,870 --> 00:11:53,350
t에 0과 1을 대입하여,

170
00:11:53,350 --> 00:11:59,760
시작점 C(0)와 끝점 C(1)이 구해짐을 확인할 수 있습니다.

171
00:11:59,760 --> 00:12:01,220
하나의 예제를 보겠습니다.

172
00:12:01,220 --> 00:12:04,280
두 점 p1과 p2가 주어졌을때,

173
00:12:04,280 --> 00:12:08,530
두 점을 통과하는 implicit line을 구하려 합니다.

174
00:12:08,530 --> 00:12:10,150
Two point form의 공식으로

175
00:12:10,150 --> 00:12:15,340
쉽게 implicit line f(x,y) = 0 를 구했습니다.

176
00:12:15,340 --> 00:12:18,530
두 point로 부터 parametric line C(t)도

177
00:12:18,530 --> 00:12:20,660
쉽게 구할 수 있습니다.

178
00:12:20,660 --> 00:12:24,870
C(t)로 부터 tangent와 normal vector도 구했습니다.

179
00:12:24,870 --> 00:12:30,760
그런데, implicit form f(x,y)로 부터 Normal을 구해보면

180
00:12:30,760 --> 00:12:35,560
(a, b) = (2, -1)이어서

181
00:12:35,560 --> 00:12:40,460
parametric form으로 부터 구한 것과 반대 방향입니다.

182
00:12:40,460 --> 00:12:43,080
이것은 기하학의 방향 문제 입니다.

183
00:12:43,080 --> 00:12:45,670
즉, 주어진 두 점만으로는

184
00:12:45,670 --> 00:12:48,270
이 line의 normal 방향이 어느쪽인지

185
00:12:48,270 --> 00:12:50,960
결정할 수 없다는 것입니다.

186
00:12:50,960 --> 00:12:55,940
이 문제를 극복하기 위해 다른 정보들이 더 포함되어야 하는데,

187
00:12:55,940 --> 00:12:59,970
이에 대해서는 앞으로 더 알아볼 것입니다.

188
00:12:59,970 --> 00:13:04,460
중심이 (a, b)에 있고, 반지름이 r인 원을 고려해 봅니다.

189
00:13:04,460 --> 00:13:05,950
Implicit form으로는

190
00:13:05,950 --> 00:13:14,600
f(x,y) = (x-a)^2 + (y-b)^2 - r^2 = 0 으로

191
00:13:14,600 --> 00:13:16,650
표현할 수 있습니다.

192
00:13:16,650 --> 00:13:18,300
Parametric form으로는

193
00:13:18,300 --> 00:13:21,770
c(theta) = (x(theta), y(theta))

194
00:13:21,770 --> 00:13:27,350
= (a + r cos(theta), b + r sin(theta))로

195
00:13:27,350 --> 00:13:29,830
표현할 수 있습니다.

196
00:13:29,830 --> 00:13:32,180
중심이 (h, k)에 있고,

197
00:13:32,180 --> 00:13:36,360
두 축의 길이가 a, b인 타원의 방정식을 고려해 봅니다.

198
00:13:36,360 --> 00:13:39,180
Implicit form은 이와 같습니다.

199
00:13:39,180 --> 00:13:42,500
Parametric form은 이와 같습니다.

200
00:13:42,500 --> 00:13:48,710
이제 Circle과 line의 교차점 (intersection)을 고려해 보겠습니다.

201
00:13:48,710 --> 00:13:51,690
Circle은 implicit form으로 주어졌습니다.

202
00:13:51,690 --> 00:13:55,430
Line은 parametric 으로 주어졌습니다.

203
00:13:55,430 --> 00:14:02,820
x(t)와 y(t)를 circle의 implicit 방정식의 x, y 에 각각 대입합니다.

204
00:14:02,820 --> 00:14:07,210
이 방정식은 t에 관한 2차 방정식입니다.

205
00:14:07,210 --> 00:14:10,300
이 2차 방정식을 풀어봅니다.

206
00:14:10,300 --> 00:14:13,800
이 방정식이 두 개의 근을 가지는 경우

207
00:14:13,800 --> 00:14:17,260
line과 circle은 두 점에서 교차합니다.

208
00:14:17,260 --> 00:14:19,790
두 개의 t를 C(t)에 대입하면

209
00:14:19,790 --> 00:14:22,890
두 개의 교차점을 구할 수 있습니다.

210
00:14:22,890 --> 00:14:26,210
만약 방정식이 한개의 근 만을 가진다면,

211
00:14:26,210 --> 00:14:30,550
line은 circle과 한점에서 접하는 경우입니다.

212
00:14:30,550 --> 00:14:34,000
방정식의 근이 존재하지 않는 경우는

213
00:14:34,000 --> 00:14:38,080
line과 circle의 교차가 없는 경우 입니다.

214
00:14:38,080 --> 00:14:40,100
두 개의 object A와 B의

215
00:14:40,100 --> 00:14:42,180
교차를 구하는 연산에서,

216
00:14:42,180 --> 00:14:44,960
어느 한쪽을 implicit으로 하고,

217
00:14:44,960 --> 00:14:47,460
다른 한 쪽을 parametric으로 놓으면

218
00:14:47,460 --> 00:14:51,370
쉽게 교차를 구할 수 있습니다.

219
00:14:51,370 --> 00:14:53,680
원과 선분의 교차점을 구하는

220
00:14:53,680 --> 00:14:55,580
예를 보겠습니다.

221
00:14:55,580 --> 00:14:59,990
먼저 선분은 양 끝점 p1과 p2로 주어졌습니다.

222
00:14:59,990 --> 00:15:02,680
두 점을 통과하는 parametric line의 방정식은

223
00:15:02,680 --> 00:15:05,820
L(t) = (x(t), y(t))인데

224
00:15:05,820 --> 00:15:12,420
x(t) = at + b, y(t) = ct + d 로 나타낼 수 있습니다.

225
00:15:12,420 --> 00:15:16,480
여기서 t의 범위는 0과 1사이로 한정됩니다.

226
00:15:16,480 --> 00:15:21,510
선분은 양 끝점 사이에서만 유효하기 때문입니다.

227
00:15:21,510 --> 00:15:28,050
원의 방정식은 implicit form으로

228
00:15:28,050 --> 00:15:33,290
(x-e)^2 + (y-f)^2 = r^2 으로 정의되는데,

229
00:15:33,290 --> 00:15:38,610
(e,f)는 원의 중심점이고 r은 원의 반지름입니다.

230
00:15:38,610 --> 00:15:42,530
이제 Line 방정식의 x(t), y(t)를

231
00:15:42,530 --> 00:15:46,600
circle의 방정식의 x, y에 각각 대입합니다.

232
00:15:46,600 --> 00:15:47,920
이를 정리하면,

233
00:15:47,920 --> 00:15:56,880
t에 관한 2차방정식 At^2 + Bt + C = 0 를 구할 수 있습니다.

234
00:15:56,880 --> 00:15:59,240
2차 방정식의 근을 구하기 위해

235
00:15:59,240 --> 00:16:07,090
판별식 D = B^2 - 4AC 를 고려합니다.

236
00:16:07,090 --> 00:16:11,560
D > 0 일때는 root t가 두개 나옵니다.

237
00:16:11,560 --> 00:16:16,630
D = 0일 때는 root가 하나 있습니다.

238
00:16:16,630 --> 00:16:20,810
D < 0 일때는 real root가 없 습니다.

239
00:16:20,810 --> 00:16:25,660
그러나 실근이 존재하는 두가지 case들에 대해서도

240
00:16:25,660 --> 00:16:31,940
근인 t를 계산한 후 이것이 0과 1사이에 있는지 확인해야 합니다.

241
00:16:31,940 --> 00:16:40,530
이 경우는 선분이 원 위에 걸치면서 D > 0 이고 두 개의 근이 있으며,

242
00:16:40,530 --> 00:16:45,380
두 개의 t가 모두 0과 1사이에 있는 경우입니다.

243
00:16:45,380 --> 00:16:50,920
이 경우는 D > 0 이면서 두 개의 t가 계산되긴 하지만

244
00:16:50,920 --> 00:16:55,640
선분이 짧아서 하나의 근은 유효하지 않은 경우 입니다.

245
00:16:55,640 --> 00:17:01,300
즉, 하나의 t는 0과 1사이에 있지 않습니다.

246
00:17:01,300 --> 00:17:06,760
이 경우는 역시 D > 0 이고 두 개의 t를 구할 수 있지만,

247
00:17:06,760 --> 00:17:10,980
두 개 모두 0과 1사이에 있지 않은 경우 입니다.

248
00:17:10,980 --> 00:17:16,140
이제 유효한 t만을 line equation L(t)에 대입하면

249
00:17:16,140 --> 00:17:20,640
유효한 교차점을 구할 수 있습니다.

250
00:17:20,640 --> 00:17:23,980
이번에는 3D의 line에 대해 알아보겠습니다.

251
00:17:23,980 --> 00:17:29,220
먼저 3차원의 두 점 p1과 p2가 주어진 경우입니다.

252
00:17:29,220 --> 00:17:31,570
Parametric line C(t)는 component

253
00:17:31,570 --> 00:17:34,920
x(t), y(t), z(t)로 표현되는데요.

254
00:17:34,920 --> 00:17:38,940
x(t), y(t), z(t)는 2D line 의 표현과 동일하게

255
00:17:38,940 --> 00:17:41,350
이렇게 구할 수 있습니다.

256
00:17:41,350 --> 00:17:43,950
t에 0과 1을 각각 대입해 보면

257
00:17:43,950 --> 00:17:49,830
두 점 C(0)와 C(1)이 구해짐을 알 수 있습니다.

258
00:17:49,830 --> 00:17:53,290
3D line의 point-vector form입니다.

259
00:17:53,290 --> 00:17:59,180
2D와 마찬가지로 C(t)는 한점 p1과 방향벡터 v를 사용하여

260
00:17:59,180 --> 00:18:02,600
p1 + vt 로 나타낼 수 있습니다.

261
00:18:02,600 --> 00:18:06,000
3D line을 implicit form으로 나타낼 때,

262
00:18:06,000 --> 00:18:09,300
하나의 방정식만을 사용하는 것은 불가능합니다.

263
00:18:09,300 --> 00:18:13,640
여기에서와 같이 두 개의 방정식으로 나타내어야 합니다.

264
00:18:13,640 --> 00:18:21,390
앞쪽의 것은 x와 y에 대한 방정식, 뒤의 것은 y와 z에 관한 것입니다.

265
00:18:21,390 --> 00:18:26,560
이제 plane과 plane patch에 대하여 알아보도록 합시다.

266
00:18:26,560 --> 00:18:30,130
plane과 plane patch는 구분을 해 주어야 합니다.

267
00:18:30,130 --> 00:18:34,440
plane은 무한해서 명시적인 범위가 없습니다.

268
00:18:34,440 --> 00:18:38,450
plane patch는 유한한 plane 조각입니다.

269
00:18:38,450 --> 00:18:44,040
plane patch에는 명시적으로 그 범위가 주어집니다.

270
00:18:44,040 --> 00:18:51,020
f(x,y) = Ax + By + Cz + D = 0,

271
00:18:51,020 --> 00:18:55,080
이것은 Implicit form의 plane equation입니다.

272
00:18:55,080 --> 00:19:02,800
여기에서 n = (A, B, C) 벡터는 plane의 normal vector 입니다.

273
00:19:02,800 --> 00:19:06,470
Plane equation을 유도해 보도록 하겠습니다.

274
00:19:06,470 --> 00:19:11,750
먼저 normal vector n = (A, B, C)가 주어졌습니다.

275
00:19:11,750 --> 00:19:18,110
또, plane 위의 한 점 p = (x1, y1, z1)이 주어졌습니다.

276
00:19:18,110 --> 00:19:23,110
이 때 plane은 n과 (r - p) 벡터가 수직인,

277
00:19:23,110 --> 00:19:29,020
모든 점 r = (x, y, z) 의 집합입니다.

278
00:19:29,020 --> 00:19:35,200
따라서, n과 (r-p) 의 dot product는 zero 입니다.

279
00:19:35,200 --> 00:19:42,770
이 식을 풀어서 다시 정리하면 Ax + By + Cz + D = 0 입니다.

280
00:19:42,770 --> 00:19:54,990
여기서, D = - (A, B, C).(x1, y1, z1) = -n.p 가 됩니다.

281
00:19:54,990 --> 00:19:57,230
3차원의 한 점 P1 과

282
00:19:57,230 --> 00:20:05,830
하나의 plane Ax + By + Cz + D = 0 가 주어졌다고 가정합시다.

283
00:20:05,830 --> 00:20:08,300
P1 이 plane 위에 있는지,

284
00:20:08,300 --> 00:20:10,560
plane의 밖에 있는지,

285
00:20:10,560 --> 00:20:15,430
혹은 plane 안쪽에 있는지를 판단해 보도록 합시다.

286
00:20:15,430 --> 00:20:20,970
P1 의 좌표 (x1, y1, z1)을 plane 방정식에 대입해서

287
00:20:20,970 --> 00:20:28,490
Ax1 + By1 + Cz1 + D 값을 계산해 봅니다.

288
00:20:28,490 --> 00:20:32,620
그 값이 0이면 P1은 plane위에 있습니다.

289
00:20:32,620 --> 00:20:38,210
만일 그 값이 음수이면, P1은 plane의 안쪽에 있습니다.

290
00:20:38,210 --> 00:20:44,690
만일 그 값이 양수이면, P1은 plane의 바깥쪽에 있습니다.

291
00:20:44,690 --> 00:20:51,850
바깥쪽이란, plane normal vector 가 가리키는 방향이 됩니다.

292
00:20:51,850 --> 00:20:55,480
세개의 점 p1, p2, p3를 모두 품고 있는 plane은

293
00:20:55,480 --> 00:20:58,150
어떻게 구할 수 있을까요?

294
00:20:58,150 --> 00:21:08,490
먼저 p1에서 출발하는 두 벡터 (p2 - p1)과 (p3 - p1)을 구할 수 있습니다.

295
00:21:08,490 --> 00:21:12,870
normal vector는 이 두 vector에 모두 수직이어야 하므로

296
00:21:12,870 --> 00:21:16,490
두 벡터의 cross product로 구할 수 있습니다.

297
00:21:16,490 --> 00:21:21,930
여기에서 두 vector (p2 - p1), (p3 - p1)와

298
00:21:21,930 --> 00:21:24,150
normal vector가 차례로

299
00:21:24,150 --> 00:21:29,190
x, y, z 방향을 이루는 오른손 좌표계를 나타낸다는 사실을

300
00:21:29,190 --> 00:21:32,100
우리는 기억하고 있습니다.

301
00:21:32,100 --> 00:21:35,250
Normal vector와 plane 위의 한 점이 있으니,

302
00:21:35,250 --> 00:21:37,300
plane의 implicit equation은

303
00:21:37,300 --> 00:21:42,310
방금 전 slide에서 처럼 구할 수 있습니다.

304
00:21:42,310 --> 00:21:47,160
이번에는 plane의 parametric form을 보도록 하겠습니다.

305
00:21:47,160 --> 00:21:53,010
plane r은 p + sv + tw 로 나타낼 수 있습니다.

306
00:21:53,010 --> 00:21:58,280
여기서 s와 t는 무한 구간인 pameter들입니다.

307
00:21:58,280 --> 00:22:02,600
p는 plane 위의 임의의 한 점입니다.

308
00:22:02,600 --> 00:22:09,420
v와 w는 p에서 시작되는 vector로서 서로 다른 방향을 가리키고 있습니다.

309
00:22:09,420 --> 00:22:13,390
v와 w는 반드시 수직일 필요는 없습니다만,

310
00:22:13,390 --> 00:22:15,680
서로 평행이면 안됩니다.

311
00:22:15,680 --> 00:22:23,120
즉, v와 w는 선형 독립인 두 vector이어야 합니다.

312
00:22:23,120 --> 00:22:26,730
중심이 (xc, yc, zc) 에 있고,

313
00:22:26,730 --> 00:22:34,070
반지름이 R인 구의 implicit form f(x,y,z)는

314
00:22:34,070 --> 00:22:44,840
(x-xc)^2 + (y-yc)^2 + (z-zc)^2 - R^2 = 0 입니다.

315
00:22:44,840 --> 00:22:49,570
이 구와 line C(t)의 intersection을 구해보도록 하죠.

316
00:22:49,570 --> 00:22:53,120
앞서 이야기 했듯이 sphere는 implicit이고,

317
00:22:53,120 --> 00:22:57,020
line은 parametric으로 나타내었습니다.

318
00:22:57,020 --> 00:23:02,260
이렇게 하는 것이 intersection을 구하는 데는 좋습니다.

319
00:23:02,260 --> 00:23:05,060
f(x,y,z)의 x, y, z에

320
00:23:05,060 --> 00:23:10,630
line의 x(t), y(t), z(t)를 각각 대입하였습니다.

321
00:23:10,630 --> 00:23:15,190
이 방정식은 t에 대한 2차 방정식이 되겠죠.

322
00:23:15,190 --> 00:23:20,540
따라서 0 또는 1 또는 2개의 근을 가집니다.

323
00:23:20,540 --> 00:23:23,750
그림으로 그려보면 이와 같습니다.

324
00:23:23,750 --> 00:23:29,080
line-circle intersection의 경우와 매우 비슷합니다.
